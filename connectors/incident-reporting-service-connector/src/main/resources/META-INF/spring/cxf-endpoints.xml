<?xml version="1.0" encoding="UTF-8"?>

<!-- Configures the Camel Context -->

<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xmlns:cxf="http://camel.apache.org/schema/cxf" 
	xmlns:policy="http://cxf.apache.org/policy" 
	xmlns:wsp="http://www.w3.org/2006/07/ws-policy"
	xmlns:camel="http://camel.apache.org/schema/spring" 
	xsi:schemaLocation="
	   http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd
       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
       http://camel.apache.org/schema/cxf http://camel.apache.org/schema/cxf/camel-cxf.xsd
       http://cxf.apache.org/policy http://cxf.apache.org/schemas/policy.xsd
       http://www.w3.org/2006/07/ws-policy http://www.w3.org/2006/07/ws-policy.xsd
       ">

	<!-- endpoints -->	
	<camel:endpoint id="IncidentReportingServiceEndpoint"
		uri="cxf:bean:IncidentReportingService?dataFormat=PAYLOAD&amp;loggingFeatureEnabled=${incidentChargeReporting.incidentReportingServiceIntermediaryCxflogging}" />

	<!-- OJB Incident Reporting Service, called by this intermediary -->
	<cxf:cxfEndpoint id="IncidentReportingService"
		address="${incidentChargeReporting.incidentReportingServiceEndpoint}"
		wsdlURL="classpath:service-specifications/Incident_Reporting_Service/schema/SIP_WS_1.2/Incident_Reporting_Service.wsdl"
		serviceName="ojbc:Incident-Reporting-ServiceService" endpointName="ojbc:Incident-Reporting-Service"
		xmlns:ojbc="http://ojbc.org/Services/WSDL/IncidentReportingService/1.0">
		 <cxf:features> 
 			<policy:policies> 
 				<wsp:Policy xmlns:wsam="http://www.w3.org/2007/02/addressing/metadata"> 
 					<wsam:Addressing> 
 						<wsp:Policy /> 
 					</wsam:Addressing> 
 				</wsp:Policy> 
 			</policy:policies> 
 		</cxf:features>	 
	</cxf:cxfEndpoint>
	
</beans>
