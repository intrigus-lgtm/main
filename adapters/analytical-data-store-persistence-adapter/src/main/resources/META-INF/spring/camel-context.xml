<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xmlns:cxf="http://camel.apache.org/schema/cxf"
	xmlns:ctx="http://www.springframework.org/schema/context" 
	xmlns:camel="http://camel.apache.org/schema/spring"
	xsi:schemaLocation="
	   http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
       http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd
       http://camel.apache.org/schema/cxf http://camel.apache.org/schema/cxf/camel-cxf.xsd
	   http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd">
    <!-- needed cxf imports -->
    <import resource="classpath:META-INF/cxf/cxf.xml"/>
    
	<camel:camelContext xmlns="http://camel.apache.org/schema/spring" id="analytical-data-store-persistence-adapter">


		<camel:endpoint id="incidentReportingServiceAdapterEndpoint"
			uri="cxf:bean:incidentReportingServiceAdapter?dataFormat=PAYLOAD&amp;loggingFeatureEnabled={{analyticsAdapter.cxflogging}}" />

		<endpoint id="pretrialEnrollmentRequestServiceAdapterEndpoint"
					uri="cxf:bean:pretrialEnrollmentRequestAdapter?dataFormat=PAYLOAD&amp;loggingFeatureEnabled={{analyticsAdapter.cxflogging}}" />
					
 		<endpoint id="dispositionReportingServiceAdapterEndpoint"
				uri="cxf:bean:dispositionReportingServiceAdapter?dataFormat=PAYLOAD&amp;loggingFeatureEnabled={{analyticsAdapter.cxflogging}}"/>					

		<!-- Incident Reporting Route -->
		<camel:route id="Incident_Repository_Service">
		
			<camel:from	uri="incidentReportingServiceAdapterEndpoint" />
			
			<camel:log message="Here is the inbound incident reporting message: ${body}" loggingLevel="DEBUG"/>
				
			
		</camel:route>		

		<camel:route id="Pretrial_Service_Enrollment_Reporting_Service_Route">
		
			<camel:from	uri="pretrialEnrollmentRequestServiceAdapterEndpoint" />
			
			<camel:log message="Here is the inbound pretrial message: ${body}" loggingLevel="DEBUG"/>
				
			
		</camel:route>		

		<camel:route id="Disposition_Reporting_Service_Route">
		
			<camel:from	uri="dispositionReportingServiceAdapterEndpoint" />
			
			<camel:log message="Here is the inbound disposition reporting message: ${body}" loggingLevel="DEBUG"/>
				
			
		</camel:route>		
		
	</camel:camelContext>

	<bean id="messageProcessor" class="org.ojbc.util.camel.processor.MessageProcessor" />
		
</beans>
